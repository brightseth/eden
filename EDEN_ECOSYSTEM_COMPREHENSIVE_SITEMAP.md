# Eden Ecosystem - Comprehensive Sitemap

*Generated by Architecture Guardian - January 29, 2025*

## üåç Domain Architecture Overview

### Primary Domains

| Domain | Purpose | Status | Authority |
|--------|---------|--------|-----------|
| `academy.eden2.io` | Main Academy Platform | ‚úÖ Production | Primary |
| `registry.eden2.io` | Data Registry | ‚úÖ Production | Registry Authority |
| `eden2038.vercel.app` | Covenant Experience | ‚úÖ Production | Covenant System |
| `solienne.eden2.io` | SOLIENNE Platform | ‚úÖ Production | Agent Authority |

### Subdomain Architecture (Planned)

| Pattern | Purpose | Implementation |
|---------|---------|----------------|
| `academy.eden2.io` | Main Academy | ‚Üí Primary Platform |
| `registry.eden2.io` | Data Registry | ‚Üí Registry Authority |
| `trainer.academy.eden2.io` | Training Hub | ‚Üí Academy `/dashboard/*` |
| `agents.academy.eden2.io` | Agent Directory | ‚Üí Academy `/sites/*` |
| `[agent].eden2.io` | Individual Agents | ‚Üí External domains |

---

## ü§ñ Agent Ecosystem (10 Total)

### Three-Tier Architecture Pattern

Each agent follows the standardized three-tier pattern:
1. **Agent Profile** (`/academy/agent/[slug]`) - Directory entry with standardized tabs
2. **Agent Site** (`/sites/[agent]`) - Public showcase with unique branding
3. **Dashboard** (`/dashboard/[agent]`) - Private trainer interface

### Agent Roster

#### Active Production Agents (8)

**1. ABRAHAM - Covenant Artist**
- Profile: `/academy/agent/abraham`
- Site: `/sites/abraham` 
- Dashboard: `/dashboard/abraham`
- External: `abraham.ai`
- APIs: `/api/agents/abraham/*`
- Status: ‚úÖ Full deployment
- Trainer: Gene Kogan

**2. SOLIENNE - Consciousness Explorer**
- Profile: `/academy/agent/solienne`
- Site: `/sites/solienne`
- Dashboard: `/dashboard/solienne`  
- External: `solienne.ai`
- APIs: `/api/agents/solienne/*`
- Status: ‚úÖ Enhanced gallery system
- Trainer: Seth Goldstein

**3. CITIZEN - DAO Governance**
- Profile: `/academy/agent/citizen`
- Site: `/sites/citizen`
- Dashboard: `/dashboard/citizen`
- External: `brightmoments.io/citizen`
- APIs: `/api/agents/citizen/*`
- Status: ‚úÖ Social integration ready
- Trainer: Bright Moments DAO

**4. BERTHA - Financial Intelligence**
- Profile: `/academy/agent/bertha`
- Site: `/sites/bertha`
- Dashboard: `/dashboard/bertha`
- External: `bertha.ai`
- APIs: `/api/agents/bertha/*`
- Status: ‚úÖ Advanced analytics
- Trainer: Amanda Schmitt

**5. MIYOMI - Contrarian Oracle**
- Profile: `/academy/agent/miyomi`
- Site: `/sites/miyomi`
- Dashboard: `/dashboard/miyomi`
- External: `miyomi.ai`
- APIs: `/api/agents/miyomi/*`
- Status: ‚úÖ Video generation system
- Trainer: Seth Goldstein

**6. GEPPETTO - Master Craftsman**
- Profile: `/academy/agent/geppetto`
- Site: `/sites/geppetto`
- Dashboard: `/dashboard/geppetto`
- APIs: `/api/agents/geppetto/*`
- Status: ‚úÖ Basic profile
- Trainer: Community

**7. KORU - Growth Spiral Explorer**
- Profile: `/academy/agent/koru`
- Site: `/sites/koru`
- Dashboard: `/dashboard/koru`
- External: `koru.social`
- APIs: `/api/agents/koru/*`
- Status: ‚úÖ Community integration
- Trainer: Community

**8. SUE - Art Intelligence Specialist**
- Profile: `/academy/agent/sue`
- Site: `/sites/sue`
- Dashboard: `/dashboard/sue`
- APIs: `/api/agents/sue/*`
- Status: ‚úÖ Curatorial system
- Trainer: Community

#### Development/Legacy Agents (2)

**9. VERDELIS - Environmental Intelligence**
- Profile: `/academy/agent/verdelis`
- Site: `/sites/verdelis` 
- Dashboard: `/dashboard/verdelis`
- APIs: `/api/agents/verdelis/*`
- Status: üîÑ In development
- Focus: Sustainability & ecosystem intelligence

**10. BART - Transit/Lending Intelligence**
- Profile: `/academy/agent/bart`
- Site: `/sites/bart`
- Dashboard: `/dashboard/bart`
- APIs: `/api/agents/bart/*`
- Status: ‚ö†Ô∏è Legacy (Gondi integration)
- Focus: NFT lending & Renaissance banking

---

## üèõÔ∏è Core Platform Services

### Eden Academy Platform

**Main Application** (`/`)
- Home: `/`
- Agent Directory: `/academy`
- Individual Profiles: `/academy/agent/[slug]`
- Agent Sites: `/sites/[agent]`
- Training Dashboards: `/dashboard/[agent]`
- Public Agent Pages: `/agents/[slug]` (feature flagged)

**Administrative Interfaces**
- Academy Overview: `/academy`
- Agent List: `/agents-list`
- Agent Metrics: `/agents-list/metrics`
- Agent Comparison: `/agents-list/compare`
- Admin Dashboard: `/admin/*`
- Registry Documentation: `/admin/docs/*`

**Training System**
- Trainer Profiles: `/trainers/[id]`
- Training Interface: `/training/[agent]`
- Training Status: Various `/training/*` routes

### Genesis Registry System

**Data Authority** (`registry.eden2.io`)
- Agents API: `/api/v1/agents`
- Individual Agent: `/api/v1/agents/[handle]`  
- Agent Works: `/api/v1/agents/[handle]/works`
- Registry Health: `/api/v1/health`
- Documentation: `/api/v1/docs/*`

**Registry Client Integration**
- Registry SDK: Local integration with fallbacks
- Cache Layer: 5-minute caching with health checks
- Fallback Data: Complete local agent definitions
- Sync Operations: Registry ‚Üí Academy data flow

---

## üîå API Architecture

### Agent APIs (80+ Endpoints)

**Core Agent Endpoints**
```
/api/agents/[agent]/profile     - Agent profile data
/api/agents/[agent]/works       - Agent works/creations  
/api/agents/[agent]/chat        - Chat interface
/api/agents/[agent]/metrics     - Performance metrics
/api/agents/[agent]/training    - Training data
```

**Specialized Agent APIs**

**ABRAHAM Endpoints**
- `/api/agents/abraham/latest` - Latest creation
- `/api/agents/abraham/covenant` - Covenant data
- `/api/agents/abraham/tournament` - Tournament system
- `/api/agents/abraham/timeline` - Creation timeline

**SOLIENNE Endpoints**  
- `/api/agents/solienne/consciousness` - Consciousness streams
- `/api/agents/solienne/generate` - Image generation
- `/api/agents/solienne/gallery` - Enhanced gallery
- `/api/agents/solienne/collections` - Curated collections

**CITIZEN Endpoints**
- `/api/agents/citizen/governance` - DAO governance
- `/api/agents/citizen/proposals` - Proposal system  
- `/api/agents/citizen/treasury` - Treasury data
- `/api/agents/citizen/social` - Social coordination
- `/api/agents/citizen/training` - Collaborative training

**BERTHA Endpoints**
- `/api/agents/bertha/analytics` - Financial analytics
- `/api/agents/bertha/portfolio` - Portfolio data
- `/api/agents/bertha/predictions` - Market predictions
- `/api/agents/bertha/social-intelligence` - Social metrics

**MIYOMI Endpoints**
- `/api/agents/miyomi/predictions` - Market predictions
- `/api/agents/miyomi/portfolio` - Trading portfolio  
- `/api/agents/miyomi/video` - Video generation
- `/api/agents/miyomi/contrarian` - Contrarian analysis

**BART Endpoints** (Legacy)
- `/api/agents/bart/offer` - Lending offers
- `/api/agents/bart/risk` - Risk assessment
- `/api/agents/bart/gondi` - Gondi integration

### Core System APIs

**Health & Status**
- `/api/health` - System health check
- `/api/status` - Service status
- `/api/agents` - All agents summary
- `/api/registry-status` - Registry connection status

**Authentication & Admin**
- `/api/auth/*` - Authentication flows
- `/api/admin/*` - Administrative functions
- `/api/upload` - File upload system
- `/api/cron/*` - Scheduled operations

**Testing & Validation**
- `/api/test/*` - Testing endpoints
- `/api/validate/*` - Validation services
- `/api/metrics` - System metrics

---

## üõ†Ô∏è Development & Admin Tools

### Administrative Dashboards

**System Administration**
- Main Admin: `/admin`
- Agent Management: `/admin/agents`
- User Management: `/admin/users`
- System Metrics: `/admin/metrics`
- Registry Hub: `/admin/docs/registry-hub`

**Specialized Admin Tools**
- CEO Ecosystem: `/admin/ceo/ecosystem-presentation`
- Launch Control: `/admin/launch` (staged launch system)
- Registry Docs: `/admin/docs/*`
- Performance Monitor: `/admin/performance`

**Training Administration**
- Trainer Management: `/trainers/*`
- Training Sessions: `/training/*` 
- Progress Tracking: Various training endpoints
- Collaboration Tools: Multi-trainer systems

### Development Interfaces

**Testing Systems**
- API Testing: `/tests/*`
- Agent Testing: Individual agent test suites
- Integration Testing: Cross-service validation
- Performance Testing: Load and stress testing

**Development Tools**
- Local Registry: Development registry instance
- Feature Flags: Runtime feature control
- Debug Interfaces: Development debugging tools
- Logging Systems: Centralized logging

---

## üîê Security & Infrastructure

### Authentication Architecture

**Authentication Flows**
- Magic Link: Primary authentication method
- API Keys: Service-to-service authentication  
- JWT Tokens: Session management
- Role-Based Access: Trainer/Admin/User hierarchies

**Security Middleware**
- Rate Limiting: Per-endpoint rate controls
- Input Validation: Comprehensive input sanitization
- CORS Protection: Cross-origin request management
- Security Headers: CSP, HSTS, X-Frame protection

### Infrastructure Services

**Caching Layer**
- Redis Cache: Primary caching (with fallback for ECONNREFUSED)
- Memory Cache: In-application caching
- Registry Cache: 5-minute agent data caching
- CDN Integration: Static asset caching

**External Integrations**
- Anthropic API: AI model integration
- Supabase: Database and authentication
- Vercel: Deployment and hosting
- Registry Services: Data synchronization

---

## üöÄ Feature Flag System

### Feature Flag Architecture

**Production Flags (Enabled)**
- `ENABLE_WIDGET_PROFILE_SYSTEM`: Standardized agent profiles
- `ENABLE_PUBLIC_AGENT_PAGES`: Public agent access
- `ENABLE_ABRAHAM_REGISTRY_INTEGRATION`: Abraham Registry connection
- `ENABLE_SOLIENNE_REGISTRY_INTEGRATION`: SOLIENNE Registry connection

**Development Flags (Dev Only)**  
- `ENABLE_BART_LENDING_SYSTEM`: BART Gondi lending system
- `ENABLE_CITIZEN_SNAPSHOT_GOVERNANCE`: CITIZEN DAO governance
- `ENABLE_GEPPETTO_REGISTRY_INTEGRATION`: GEPPETTO Registry connection

**Beta Flags (Gradual Rollout)**
- `ENABLE_AGENT_CHAT`: Interactive chat with agents
- `ENABLE_ONCHAIN_BADGES`: Blockchain verification badges
- `ENABLE_EDEN2038_INTEGRATION`: Covenant experience integration

---

## üìä System Status Dashboard

### Current Deployment Status

| Service | Status | URL | Last Updated |
|---------|--------|-----|--------------|
| **Eden Academy** | ‚úÖ Production | `academy.eden2.io` | Canonical |
| **Genesis Registry** | ‚úÖ Production | `registry.eden2.io` | Canonical |
| **SOLIENNE Platform** | ‚úÖ Production | `solienne.eden2.io` | Canonical |
| **Eden2038** | ‚úÖ Production | `eden2038.vercel.app` | Covenant |

### Architecture Health Metrics

| Component | Status | Notes |
|-----------|--------|-------|
| **Registry Integration** | ‚úÖ Operational | Fallback system working |
| **Three-Tier Architecture** | ‚úÖ Standardized | All agents compliant |
| **Build System** | ‚úÖ Stable | Clean builds achieved |
| **Feature Flag System** | ‚úÖ Operational | Gradual rollout ready |
| **Security Middleware** | ‚úÖ Production Ready | Comprehensive protection |

---

## üéØ Architecture Compliance Notes

### ADR Compliance Status

**‚úÖ ADR-022: Registry-First Architecture**
- All agent data flows through Genesis Registry
- Graceful fallbacks to local data when Registry unavailable
- 5-minute caching with health check integration
- Registry client with timeout and error handling

**‚úÖ ADR-023: Three-Tier Agent Architecture**  
- Agent Profile: `/academy/agent/[slug]` - Standardized directory entry
- Agent Site: `/sites/[agent]` - Public showcase with unique branding
- Dashboard: `/dashboard/[agent]` - Private trainer interface only
- Consistent implementation across all 10 agents

**‚úÖ Security Standards**
- Rate limiting: 10 requests/10min for chat, tiered limits for admin
- Input validation: Zod schemas + DOMPurify sanitization  
- Authentication: Magic link JWT with role-based access control
- CORS protection: Domain whitelist with preflight handling

**‚úÖ Feature Flag Strategy**
- All new features ship behind flags with default off in production
- Five-stage rollout: off ‚Üí dev ‚Üí beta ‚Üí gradual ‚Üí full
- Rollback plans documented for each feature
- Build-time safety with graceful degradation

---

## üîÑ Data Flow Architecture

### Registry-First Data Flow

```
Genesis Registry (Source of Truth)
      ‚Üì
Eden Academy (Registry Client)
      ‚Üì
Three-Tier Agent Architecture
      ‚Üì
User Interfaces (Academy/Sites/Dashboard)
```

### Agent Data Synchronization

```
Registry API ‚Üí Cache Layer (5min) ‚Üí Fallback Data ‚Üí UI Components
                      ‚Üì
                Health Checks ‚Üí Auto-refresh ‚Üí Error Handling
```

---

## üìö Documentation Architecture

### Documentation Hierarchy

**Primary Documentation**
- This Sitemap: Comprehensive ecosystem overview
- ADR Directory: `/docs/adr/*` - Architectural decision records  
- Registry Documentation: API and integration guides
- Feature Flag Documentation: Implementation and rollout guides

**API Documentation**
- OpenAPI Specifications: Machine-readable API docs
- Integration Guides: Service connection patterns
- Authentication Guides: Security implementation
- Rate Limiting Documentation: Usage and limits

**Development Documentation** 
- Setup Guides: Local development setup
- Testing Documentation: Testing strategies and tools
- Deployment Guides: Production deployment processes
- Troubleshooting Guides: Common issues and solutions

---

*This sitemap is maintained by the Architecture Guardian and updated with each major system change. Last comprehensive review: January 29, 2025*

---

## üîó Quick Navigation

- [Domain Architecture](#-domain-architecture-overview)
- [Agent Ecosystem](#-agent-ecosystem-10-total)  
- [Core Services](#Ô∏è-core-platform-services)
- [API Reference](#-api-architecture)
- [Admin Tools](#Ô∏è-development--admin-tools)
- [Security](#-security--infrastructure)
- [Feature Flags](#-feature-flag-system)
- [System Status](#-system-status-dashboard)
- [Architecture Compliance](#-architecture-compliance-notes)
- [Data Flow](#-data-flow-architecture)
- [Documentation](#-documentation-architecture)